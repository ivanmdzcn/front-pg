<!-- pages/reportes/reportes-detalle/reportes-detalle.component.html -->
<a routerLink="/reportes">‚Üê Volver</a>
<h2>Detalle n√≥mina No. {{id}}</h2>
<button class="btn" (click)="descargar()">üìÑ Descargar PDF</button>

<div *ngIf="loading">Cargando‚Ä¶</div>
<div *ngIf="error" class="error">{{error}}</div>

<div *ngIf="dto && !loading">
  <p>
    <b>Total beneficiarios:</b> {{dto.totalBeneficiarios}} |
    <b>Total monto:</b> {{dto.totalMonto | number:'1.2-2'}}
  </p>

  <table class="tabla">
    <thead>
      <tr>
        <th>No.</th>
        <th>Causante</th>
        <th>Beneficiario</th>
        <th>Monto</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of dto.lineas">
        <td>{{ r.detcod }}</td>
        <td>{{ r.detcau }} - {{ r.causanteNombre || 'Sin nombre' }}</td>
        <td>{{ r.detben }} - {{ r.beneficiarioNombre || 'Sin nombre' }}</td>
        <td>{{ r.detmon | number:'1.2-2' }}</td>
      </tr>
      <tr *ngIf="dto.lineas.length===0"><td colspan="4" class="muted">Sin l√≠neas</td></tr>
    </tbody>
  </table>
</div>
